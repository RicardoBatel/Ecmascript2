<html>
  <body>
    <script>

      let promessa = new Promise((resolve,reject)=>{

        //requisição http para recuperar uma relação de usuários
        setTimeout(()=>{

          //a requisição foi realizada de algum modo
          let resposta_da_requisicao = {}

          //erro na requisição
          if(true){

            resposta_da_requisicao = {
              codigo: 1050,
              erro: 'Falha de autorização'
            }

            reject(resposta_da_requisicao)
          }

          resposta_da_requisicao = {
            0:{id: 1, nome: 'João'},
            1:{id: 2, nome: 'José'},
            2:{id: 3, nome: 'Maria'}
          }

          resolve(resposta_da_requisicao)

        },4000)

      }).then(dados=>{
        console.log('Operação sequencial: ', dados)

        return 'Parâmetro 1 para o then 2'

      }).then(param=>{
        console.log('Then número 2 ', param)

      }).then(()=>{
        console.log('Then número 3')

      }).then(()=>{
        console.log('Then número 4')

        return 'Parâmetro capturado no then anterior'

      }).catch(erro =>{
        console.log('Operação sequencial (Catch): ', erro)

        return 'Parâmetro capturado no catch e enviado para o then seguinte'

      }).then(param=>{
        console.log('Then número 5 ', param)

      }).then(()=>{
        console.log('Then número 6')
        
      })


    </script>
  </body>
</html>